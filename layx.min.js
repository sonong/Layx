!function(n,t){var r={version:"2.0.0",defaults:{id:"",icon:!0,title:"",width:800,height:600,minWidth:100,minHeight:100,position:"ct",control:!0,controlStyle:"",bgColor:"#fff",shadow:!0,border:"1px solid #3baced",type:"html",content:"",url:"",useFrameTitle:!1,opacity:1,shadable:!1,loaddingText:"内容正在加载中，请稍后...",stickMenu:!1,stickable:!0,minMenu:!0,minable:!0,maxMenu:!0,maxable:!0,closeMenu:!0,closable:!0,restorable:!0,resizable:!0,autodestroy:!1,autodestroyText:!0,resizeLimit:{t:!1,r:!1,b:!1,l:!1,lt:!1,rt:!1,lb:!1,rb:!1},movable:!0,moveLimit:{vertical:!1,horizontal:!1,leftOut:!0,rightOut:!0,topOut:!0,bottomOut:!0},focusable:!0,alwaysOnTop:!1,allowControlDbclick:!0,statusBar:!1,statusBarStyle:"",event:{onload:{before:function(){},after:function(){}},onmin:{before:function(){},after:function(){}},onmax:{before:function(){},after:function(){}},onrestore:{before:function(){},after:function(){}},ondestroy:{before:function(){},after:function(){}},onmove:{before:function(){},progress:function(){},after:function(){}},onresize:{before:function(){},progress:function(){},after:function(){}}}},zIndex:1e7,windows:{},stickZIndex:2e7,create:function(r){var s=this,e=layxDeepClone({},s.defaults,r||{}),h={},at=s.windows[e.id],nt,o,tt,ot,d,it,st,v,vt,rt,yt,g,l,y,p,k,w,b,ut,pt,c,ht,a,wt,bt,kt,dt,gt,ni,ti,ii,ft,ct,lt,fi;if(at)return at.status==="min"&&s.restore(at.id),at;if(!e.id){console.error("窗口id不能为空且唯一");return}e.shadable===!0&&(nt=document.createElement("div"),nt.setAttribute("id","layx-"+e.id+"-shade"),nt.classList.add("layx-shade"),nt.style.zIndex=e.alwaysOnTop===!0?++s.stickZIndex:++s.zIndex,document.body.appendChild(nt),nt.onclick=function(n){n=n||window.event;s.flicker(e.id);n.stopPropagation()});o=document.createElement("div");o.setAttribute("id","layx-"+e.id);o.classList.add("layx-window");o.classList.add("layx-flexbox");e.shadow===!0&&(o.style.setProperty("box-shadow","1px 1px 24px rgba(0, 0, 0, .3)"),o.style.setProperty("-moz-box-shadow","1px 1px 24px rgba(0, 0, 0, .3)"),o.style.setProperty("-webkit-box-shadow","1px 1px 24px rgba(0, 0, 0, .3)"));var ri=i.compileLayxWidthOrHeight("width",e.minWidth,s.defaults.minWidth),ui=i.compileLayxWidthOrHeight("height",e.minHeight,s.defaults.minHeight),et=i.compileLayxWidthOrHeight("width",e.width,s.defaults.width);et=Math.max(et,ri);tt=i.compileLayxWidthOrHeight("height",e.height,s.defaults.height);tt=Math.max(tt,ui);ot=i.compileLayxPosition(et,tt,e.position);o.style.zIndex=e.alwaysOnTop===!0?++s.stickZIndex:++s.zIndex;o.style.width=et+"px";o.style.height=tt+"px";o.style.minWidth=ri+"px";o.style.minHeight=ui+"px";o.style.top=ot.top+"px";o.style.left=ot.left+"px";e.border!==!1&&o.style.setProperty("border",e.border===!0?"1px solid #3baced":e.border);o.style.backgroundColor=e.bgColor;o.style.opacity=i.isNumber(e.opacity)?e.opacity:1;document.body.appendChild(o);h.id=e.id;h.windowId=o.getAttribute("id");h.window=o;h.createDate=new Date;h.status="normal";h.type=e.type;h.area={width:et,height:tt,minWidth:ri,minHeight:ui,top:ot.top,left:ot.left};h.isStick=e.alwaysOnTop===!0;h.zIndex=e.alwaysOnTop===!0?s.stickZIndex:s.zIndex;h.movable=e.movable;h.moveLimit=e.moveLimit;h.resizable=e.resizable;h.resizeLimit=e.resizeLimit;h.stickable=e.stickable;h.minable=e.minable;h.maxable=e.maxable;h.restorable=e.restorable;h.closable=e.closable;h.currentWindow=t;h.event=e.event;e.control===!0&&(d=document.createElement("div"),d.classList.add("layx-control-bar"),d.classList.add("layx-flexbox"),e.controlStyle&&d.setAttribute("style",e.controlStyle),o.appendChild(d),e.icon!==!1&&(it=document.createElement("div"),it.classList.add("layx-left-bar"),it.classList.add("layx-flexbox"),it.classList.add("layx-flex-vertical"),d.appendChild(it),st=document.createElement("div"),st.classList.add("layx-icon"),st.classList.add("layx-window-icon"),st.innerHTML=e.icon===!0?'<svg class="layx-iconfont" aria-hidden="true"><use xlink:href="#layx-icon-default-icon"><\/use><\/svg>':e.icon,it.appendChild(st)),v=document.createElement("div"),v.classList.add("layx-title"),v.classList.add("layx-flexauto"),v.classList.add("layx-flexbox"),v.classList.add("layx-flex-vertical"),e.allowControlDbclick===!0&&(v.ondblclick=function(n){n=n||window.event;e.restorable===!0&&s.restore(e.id);n.stopPropagation()}),e.movable===!0&&new f(v),d.appendChild(v),vt=document.createElement("label"),vt.innerHTML=e.title,v.setAttribute("title",vt.innerText),v.appendChild(vt),rt=document.createElement("div"),rt.classList.add("layx-right-bar"),rt.classList.add("layx-flexbox"),d.appendChild(rt),yt=document.createElement("div"),yt.classList.add("layx-custom-menus"),yt.classList.add("layx-flexbox"),rt.appendChild(yt),(e.stickMenu===!0||e.minMenu===!0||e.maxMenu===!0||e.closeMenu===!0)&&(g=document.createElement("div"),g.classList.add("layx-inlay-menus"),g.classList.add("layx-flexbox"),rt.appendChild(g),(e.stickMenu===!0||e.alwaysOnTop===!0&&e.stickMenu)&&(l=document.createElement("div"),l.classList.add("layx-icon"),l.classList.add("layx-flexbox"),l.classList.add("layx-flex-center"),l.classList.add("layx-stick-menu"),e.alwaysOnTop===!0?l.setAttribute("title","取消置顶"):l.setAttribute("title","置顶"),e.alwaysOnTop===!0&&l.setAttribute("data-enable","1"),l.innerHTML='<svg class="layx-iconfont" aria-hidden="true"><use xlink:href="#layx-icon-stick"><\/use><\/svg>',e.stickable===!0&&(l.onclick=function(n){n=n||window.event;s.stickToggle(e.id);n.stopPropagation()}),g.appendChild(l)),e.minMenu===!0&&(y=document.createElement("div"),y.classList.add("layx-icon"),y.classList.add("layx-flexbox"),y.classList.add("layx-flex-center"),y.classList.add("layx-min-menu"),y.setAttribute("title","最小化"),y.setAttribute("data-menu","min"),y.innerHTML='<svg class="layx-iconfont" aria-hidden="true"><use xlink:href="#layx-icon-min"><\/use><\/svg>',y.onclick=function(n){n=n||window.event;this.classList.contains("layx-restore-menu")?e.restorable===!0&&s.restore(e.id):e.minable===!0&&s.min(e.id);n.stopPropagation()},g.appendChild(y)),e.maxMenu===!0&&(p=document.createElement("div"),p.classList.add("layx-icon"),p.classList.add("layx-flexbox"),p.classList.add("layx-flex-center"),p.classList.add("layx-max-menu"),p.setAttribute("title","最大化"),p.setAttribute("data-menu","max"),p.innerHTML='<svg class="layx-iconfont" aria-hidden="true"><use xlink:href="#layx-icon-max"><\/use><\/svg>',p.onclick=function(n){n=n||window.event;this.classList.contains("layx-restore-menu")?e.restorable===!0&&s.restore(e.id):e.maxable===!0&&s.max(e.id);n.stopPropagation()},g.appendChild(p)),e.closeMenu===!0&&(k=document.createElement("div"),k.classList.add("layx-icon"),k.classList.add("layx-flexbox"),k.classList.add("layx-flex-center"),k.classList.add("layx-destroy-menu"),k.setAttribute("title","关闭"),k.innerHTML='<svg class="layx-iconfont" aria-hidden="true"><use xlink:href="#layx-icon-destroy"><\/use><\/svg>',k.onclick=function(n){n=n||window.event;e.closable===!0&&s.destroy(e.id);n.stopPropagation()},g.appendChild(k))));w=document.createElement("div");w.classList.add("layx-main");w.classList.add("layx-flexauto");o.appendChild(w);b=document.createElement("div");b.classList.add("layx-content-shade");b.classList.add("layx-flexbox");b.classList.add("layx-flex-center");i.isDom(e.loaddingText)?b.appendChild(e.loaddingText):b.innerHTML=e.loaddingText;w.appendChild(b);switch(e.type){case"html":default:if(i.isFunction(e.event.onload.before)&&(pt=e.event.onload.before(o,h),pt===!1))return;ut=document.createElement("div");ut.classList.add("layx-html");ut.classList.add("layx-flexbox");i.isDom(e.content)?ut.appendChild(e.content):ut.innerHTML=e.content;w.appendChild(ut);w.removeChild(b);i.isFunction(e.event.onload.after)&&e.event.onload.after(o,h);break;case"url":if(i.isFunction(e.event.onload.before)&&(pt=e.event.onload.before(o,h),pt===!1))return;c=document.createElement("iframe");c.setAttribute("id","layx-"+e.id+"-iframe");c.classList.add("layx-iframe");c.classList.add("layx-flexbox");c.setAttribute("allowtransparency","true");c.setAttribute("frameborder","0");c.setAttribute("scrolling","auto");c.setAttribute("allowfullscreen","");c.setAttribute("mozallowfullscreen","");c.setAttribute("webkitallowfullscreen","");c.src=e.url||"about:blank";ht="";c.attachEvent?c.attachEvent("onreadystatechange",function(){if(c.readyState==="complete"||c.readyState=="loaded"){c.detachEvent("onreadystatechange",arguments.callee);try{e.useFrameTitle===!0&&(ht=c.contentWindow.document.querySelector("title").innerText,s.setTitle(e.id,ht));e.focusable===!0&&(c.contentWindow.onclick=function(t){var r=this.self,u,f;t=t||c.contentWindow.event;r!==n&&r.frameElement&&r.frameElement.tagName==="IFRAME"&&(u=i.getNodeByClassName(r.frameElement,"layx-window",r),f=u.getAttribute("id").substr(5),s.updateZIndex(f));t.stopPropagation()})}catch(t){console.warn(t)}w.removeChild(b);i.isFunction(e.event.onload.after)&&e.event.onload.after(o,h)}}):c.addEventListener("load",function(){this.removeEventListener("load",arguments.call,!1);try{e.useFrameTitle===!0&&(ht=c.contentWindow.document.querySelector("title").innerText,s.setTitle(e.id,ht));e.focusable===!0&&(c.contentWindow.onclick=function(t){var r=this.self,u,f;t=t||c.contentWindow.event;r!==n&&r.frameElement&&r.frameElement.tagName==="IFRAME"&&(u=i.getNodeByClassName(r.frameElement,"layx-window",r),f=u.getAttribute("id").substr(5),s.updateZIndex(f));t.stopPropagation()})}catch(t){console.warn(t)}w.removeChild(b)},!1);w.appendChild(c);i.isFunction(e.event.onload.after)&&e.event.onload.after(o,h)}return e.resizable===!0&&(a=document.createElement("div"),a.classList.add("layx-resizes"),o.appendChild(a),e.resizeLimit.t===!1&&(wt=document.createElement("div"),wt.classList.add("layx-resize-top"),new u(wt,!0,!1,!0,!1),a.appendChild(wt)),e.resizeLimit.r===!1&&(bt=document.createElement("div"),bt.classList.add("layx-resize-right"),new u(bt,!1,!1,!1,!0),a.appendChild(bt)),e.resizeLimit.b===!1&&(kt=document.createElement("div"),kt.classList.add("layx-resize-bottom"),new u(kt,!1,!1,!0,!1),a.appendChild(kt)),e.resizeLimit.l===!1&&(dt=document.createElement("div"),dt.classList.add("layx-resize-left"),new u(dt,!1,!0,!1,!0),a.appendChild(dt)),e.resizeLimit.lt===!1&&(gt=document.createElement("div"),gt.classList.add("layx-resize-left-top"),new u(gt,!0,!0,!1,!1),a.appendChild(gt)),e.resizeLimit.rt===!1&&(ni=document.createElement("div"),ni.classList.add("layx-resize-right-top"),new u(ni,!0,!1,!1,!1),a.appendChild(ni)),e.resizeLimit.lb===!1&&(ti=document.createElement("div"),ti.classList.add("layx-resize-left-bottom"),new u(ti,!1,!0,!1,!1),a.appendChild(ti)),e.resizeLimit.rb===!1&&(ii=document.createElement("div"),ii.classList.add("layx-resize-right-bottom"),new u(ii,!1,!1,!1,!1),a.appendChild(ii))),e.statusBar&&(ft=document.createElement("div"),ft.classList.add("layx-statu-bar"),e.statusBarStyle&&ft.setAttribute("style",e.statusBarStyle),i.isDom(e.statusBar)?ft.appendChild(e.statusBar):ft.innerHTML=e.statusBar,o.appendChild(ft)),/(^[1-9]\d*$)/.test(e.autodestroy)&&(ct=e.autodestroy/1e3,lt=document.createElement("div"),lt.classList.add("layx-auto-destroy-tip"),e.autodestroyText&&(lt.innerHTML="<div style='padding:0 8px;'>此窗口 <strong>"+ct+" <\/strong>秒后自动关闭...<\/div>"),o.appendChild(lt),fi=setInterval(function(){--ct;e.autodestroyText===!0&&e.autodestroyText&&(lt.innerHTML="<div style='padding:0 8px;'>此窗口 <strong>"+ct+" <\/strong>秒后自动关闭...<\/div>");ct<=0&&(clearInterval(fi),s.destroy(e.id))},1e3)),s.windows[e.id]=h,h},setContent:function(n,t){var e=this,o="layx-"+n,u=document.getElementById(o),f=e.windows[n],r;u&&f&&f.type==="html"&&(r=u.querySelector(".layx-html"),r&&(i.isDom(t)?r.appendChild(t):r.innerHTML=t))},setUrl:function(n,t){var i;t=t||"about:blank";var f=this,e="layx-"+n,r=document.getElementById(e),u=f.windows[n];r&&u&&u.type==="url"&&(i=r.querySelector(".layx-iframe"),i&&i.setAttribute("src",t))},setTitle:function(n,t,i){var o=this,s="layx-"+n,r=document.getElementById(s),h=o.windows[n],f,e,u;if(r&&h&&(f=r.querySelector(".layx-title"),f)){if(i===!0){e=r.querySelector("#"+n+"-iframe");try{t=e.contentDocument.querySelector("title").innerText}catch(c){}}u=r.querySelector(".layx-title label");u&&(u.innerHTML=t,f.setAttribute("title",u.innerHTML))}},stickToggle:function(n){var i=this,f="layx-"+n,u=document.getElementById(f),t=i.windows[n],r;u&&t&&(i.updateZIndex(n),t.isStick=!t.isStick,r=u.querySelector(".layx-stick-menu"),r&&r.setAttribute("data-enable",t.isStick?"1":"0"),i.updateZIndex(n))},restore:function(n){var e=this,c="layx-"+n,r=document.getElementById(c),t=e.windows[n],s,f,u,o,h;if(r&&t){if(t.restorable!==!0)return;if(e.updateZIndex(n),i.isFunction(t.event.onrestore.before)&&(s=t.event.onrestore.before(r,t),s===!1))return;f=t.area;t.status==="normal"?e.max(n):t.status==="max"&&(document.body.classList.contains("layx-body")&&document.body.classList.remove("layx-body"),r.style.top=f.top+"px",r.style.left=f.left+"px",r.style.width=f.width+"px",r.style.height=f.height+"px",t.status="normal",u=r.querySelector(".layx-restore-menu[data-menu='max']"),u&&(u.classList.remove("layx-restore-menu"),u.classList.add("layx-max-menu"),u.setAttribute("title","最大化"),u.innerHTML='<svg class="layx-iconfont" aria-hidden="true"><use xlink:href="#layx-icon-max"><\/use><\/svg>'),o=r.querySelector(".layx-resizes"),o&&o.removeAttribute("data-enable"));t.status==="min"&&(t.minBefore==="normal"?(r.style.top=f.top+"px",r.style.left=f.left+"px",r.style.width=f.width+"px",r.style.height=f.height+"px",t.status="normal",u=r.querySelector(".layx-restore-menu[data-menu='min']"),u&&(u.classList.remove("layx-restore-menu"),u.classList.add("layx-min-menu"),u.setAttribute("title","最小化"),u.innerHTML='<svg class="layx-iconfont" aria-hidden="true"><use xlink:href="#layx-icon-min"><\/use><\/svg>'),o=r.querySelector(".layx-resizes"),o&&o.removeAttribute("data-enable")):t.minBefore==="max"&&e.max(n),e.updateMinLayout());h=layxDeepClone({},t);delete e.windows[n];e.windows[n]=h;e.updateMinLayout();i.isFunction(t.event.onrestore.after)&&t.event.onrestore.after(r,t)}},min:function(n){var e=this,c="layx-"+n,r=document.getElementById(c),t=e.windows[n],l=i.innerArea(),s,u,o,f,h;if(r&&t){if(t.minable!==!0)return;if(e.updateZIndex(n),i.isFunction(t.event.onmin.before)&&(s=t.event.onmin.before(r,t),s===!1))return;t.minBefore=t.status;t.status="min";u=r.querySelector(".layx-min-menu");u&&(u.classList.remove("layx-max-menu"),u.classList.add("layx-restore-menu"),u.setAttribute("title","恢复"),u.innerHTML='<svg class="layx-iconfont" aria-hidden="true"><use xlink:href="#layx-icon-restore"><\/use><\/svg>');o=r.querySelector(".layx-resizes");o&&o.setAttribute("data-enable","0");f=r.querySelector(".layx-restore-menu[data-menu='max']");f&&(f.classList.remove("layx-restore-menu"),f.classList.add("layx-max-menu"),f.setAttribute("title","最大化"),f.innerHTML='<svg class="layx-iconfont" aria-hidden="true"><use xlink:href="#layx-icon-max"><\/use><\/svg>');h=layxDeepClone({},t);delete e.windows[n];e.windows[n]=h;e.updateMinLayout();i.isFunction(t.event.onmin.after)&&t.event.onmin.after(r,t)}},updateZIndex:function(n){var i=this,u="layx-"+n,r=document.getElementById(u),t=i.windows[n];r&&t&&(t.zIndex=t.isStick===!0?++i.stickZIndex:++i.zIndex,r.style.zIndex=t.zIndex)},updateMinLayout:function(){var a=this,s=a.windows,h=i.innerArea(),t=10,r=220,u=0,c=Math.floor(h.width/(r+t)),f,l,n,e,o;for(f in s)l=s[f],n=document.getElementById("layx-"+f),n&&l.status==="min"&&(e=n.querySelector(".layx-control-bar"),e&&(o=e.offsetHeight,n.classList.add("layx-min-statu"),n.style.width=r+"px",n.style.height=o+"px",n.style.top=h.height-(Math.floor(u/c)+1)*(o+10)+"px",n.style.left=u%c*(r+t)+t+"px",u++))},max:function(n){var e=this,l="layx-"+n,t=document.getElementById(l),r=e.windows[n],s=i.innerArea(),h,u,o,f,c;if(t&&r){if(r.maxable!==!0)return;if(e.updateZIndex(n),i.isFunction(r.event.onmax.before)&&(h=r.event.onmax.before(t,r),h===!1))return;document.body.classList.add("layx-body");t.style.top=0;t.style.left=0;t.style.width=s.width+"px";t.style.height=s.height+"px";r.status="max";u=t.querySelector(".layx-max-menu");u&&(u.classList.remove("layx-max-menu"),u.classList.add("layx-restore-menu"),u.setAttribute("title","恢复"),u.innerHTML='<svg class="layx-iconfont" aria-hidden="true"><use xlink:href="#layx-icon-restore"><\/use><\/svg>');o=t.querySelector(".layx-resizes");o&&o.setAttribute("data-enable","0");f=t.querySelector(".layx-restore-menu[data-menu='min']");f&&(f.classList.remove("layx-restore-menu"),f.classList.add("layx-min-menu"),f.setAttribute("title","最小化"),f.innerHTML='<svg class="layx-iconfont" aria-hidden="true"><use xlink:href="#layx-icon-min"><\/use><\/svg>');c=layxDeepClone({},r);delete e.windows[n];e.windows[n]=c;e.updateMinLayout();i.isFunction(r.event.onmax.after)&&r.event.onmax.after(t,r)}},destroy:function(n){var r=this,e="layx-"+n,u=document.getElementById(e),f=document.getElementById(e+"-shade"),t=r.windows[n],o;if(u&&t){if(r.updateZIndex(n),i.isFunction(t.event.ondestroy.before)&&(o=t.event.ondestroy.before(u,t),o===!1))return;if(t.closable!==!0)return;u.parentElement.removeChild(u);delete r.windows[n];f&&f.parentElement.removeChild(f);r.updateMinLayout();i.isFunction(t.event.ondestroy.after)&&t.event.ondestroy.after()}},destroyAll:function(){var n=this;for(var t in r.windows)n.destroy(t)},flicker:function(n){var i=this,r="layx-"+n,t=document.getElementById(r),u=i.windows[n];t&&u&&(i.updateZIndex(n),t.classList.contains("layx-flicker")&&t.classList.remove("layx-flicker"),t.classList.add("layx-flicker"),filcker=setTimeout(function(){t.classList.remove("layx-flicker");clearTimeout(filcker)},960))},setPosition:function(n,t){var f=this,e="layx-"+n,r=document.getElementById(e),u=f.windows[n],i;r&&u&&(i=f.compileLayxPosition(t),u.area.left=i.left,u.area.top=i.top,r.style.left=i.left+"px",r.style.top=i.top+"px")},getChildContext:function(n){var f=this,e="layx-"+n,i=document.getElementById(e),r=f.windows[n],u=null,t;if(i&&r&&r.type==="url"&&(t=i.querySelector(".layx-iframe"),t))try{u=t.contentWindow}catch(o){}return u},getParentContext:function(n){var i=this,t=i.getChildContext(n);return t?t.parent:null},defaultsButtons:{label:"确定",callback:function(){}},createLayxButtons:function(n,t,r){var o=this,e=document.createElement("div"),f,u,s;for(e.classList.add("layx-buttons"),f=0;f<n.length;f++)u=document.createElement("button"),s=layxDeepClone({},o.defaultsButtons,n[f]),u.classList.add("layx-button-item"),u.innerText=s.label,u.callback=n[f].callback,u.onclick=function(){if(i.isFunction(this.callback))if(r===!0){var n=o.getPromptTextArea(t);this.callback(t,(n?n.value:"").replace(/(^\s*)|(\s*$)/g,""),n)}else this.callback(t)},e.appendChild(u);return e},msg:function(n){var t=this;return t.create(layxDeepClone({},{id:"layx-msg-"+i.rndNum(8),type:"html",control:!1,content:"<div class='layx-msg layx-flexbox layx-flex-center' style='height:83px;width:100%;'>"+n+"<\/div>",autodestroy:5e3,width:320,height:85,minHeight:85,stickMenu:!1,minMenu:!1,maxMenu:!1,closeMenu:!1,alwaysOnTop:!0,resizable:!1,movable:!1,allowControlDbclick:!1,position:[10,"tc"],autodestroyText:!1},t.options))},alert:function(n,t,u,f){var e=this,o="layx-alert-"+i.rndNum(8),s,h;return i.isArray(f)||(f=[{label:"确定",callback:function(n){i.isFunction(u)?u(n):r.destroy(n)}}]),s=e.createLayxButtons(f,o),h=e.create(layxDeepClone({},{id:o,title:n||"提示消息",icon:!1,type:"html",content:"<div class='layx-alert layx-flexbox layx-flex-center'>"+t+"<\/div>",width:352,height:157,minHeight:157,stickMenu:!1,minMenu:!1,minable:!1,maxMenu:!1,maxable:!1,alwaysOnTop:!0,resizable:!1,allowControlDbclick:!1,shadable:!0,statusBar:s,position:"ct"},e.options)),h},confirm:function(n,t,u,f){var e=this,o="layx-confirm-"+i.rndNum(8),s,h;return i.isArray(f)||(f=[{label:"确定",callback:function(n){i.isFunction(u)&&u(n)}},{label:"取消",callback:function(n){r.destroy(n)}}]),s=e.createLayxButtons(f,o),h=e.create(layxDeepClone({},{id:o,title:n||"询问消息",icon:!1,type:"html",content:"<div class='layx-confirm layx-flexbox layx-flex-center'>"+t+"<\/div>",width:352,height:157,minHeight:157,stickMenu:!1,minMenu:!1,minable:!1,maxMenu:!1,maxable:!1,alwaysOnTop:!0,resizable:!1,allowControlDbclick:!1,shadable:!0,statusBar:s,position:"ct"},e.options)),h},getPromptTextArea:function(n){var f=this,e="layx-"+n,r=document.getElementById(e),u=f.windows[n],t,i;return r&&u&&u.type==="html"&&(t=r.querySelector(".layx-prompt"),t&&(i=t.querySelector(".layx-textarea"),i))?i:null},prompt:function(n,t,u,f){var e=this,o="layx-prompt-"+i.rndNum(8),s,h;return i.isArray(f)||(f=[{label:"确定",callback:function(n,t,r){r&&t.length===0?r.focus():i.isFunction(u)&&u(n,t,r)}},{label:"取消",callback:function(n){r.destroy(n)}}]),s=e.createLayxButtons(f,o,!0),h=e.create(layxDeepClone({},{id:o,title:n||"请输入信息",icon:!1,type:"html",content:"<div class='layx-prompt'><label>"+t+"<\/label><textarea class='layx-textarea'><\/textarea><\/div>",width:352,height:200,minHeight:200,stickMenu:!1,minMenu:!1,minable:!1,maxMenu:!1,maxable:!1,alwaysOnTop:!0,resizable:!1,allowControlDbclick:!1,shadable:!0,statusBar:s,position:"ct"},e.options)),h},load:function(n,t){var f=this,r=document.createElement("div");r.classList.add("layx-load");r.classList.add("layx-flexbox");r.classList.add("layx-flex-center");r.style.height="83px";r.style.width="100%";r.innerHTML=t;var u=0,e=setInterval(function(){var n,i;for(u===5&&(u=0),++u,n="",i=0;i<u;i++)n+=".";r.innerHTML=t+n},200);return f.create(layxDeepClone({},{id:n?n:"layx-load-"+i.rndNum(8),type:"html",control:!1,shadable:!0,content:r,width:320,height:85,minHeight:85,stickMenu:!1,minMenu:!1,maxMenu:!1,closeMenu:!1,alwaysOnTop:!0,resizable:!1,movable:!1,allowControlDbclick:!1,position:"ct"},f.options))}},i={isBoolean:function(n){return typeof n=="boolean"},isString:function(n){return typeof n=="string"},isNumber:function(n){return typeof n=="number"},isArray:function(n){return Object.prototype.toString.call(n)=="[object Array]"},isFunction:function(n){return n&&Object.prototype.toString.call(n)==="[object Function]"},isDom:function(n){return typeof HTMLElement=="object"?n instanceof HTMLElement:n&&typeof n=="object"&&n.nodeType===1&&typeof n.nodeName=="string"},innerArea:function(){return{width:window.innerWidth,height:window.innerHeight}},compileLayxPosition:function(n,t,i){var f=this,u=f.innerArea(),r={top:0,left:0};if(f.isArray(i)&&i.length===2)r.top=f.isNumber(i[0])?i[0]:f.compileLayxPosition(n,t,i[0]).top,r.left=f.isNumber(i[1])?i[1]:f.compileLayxPosition(n,t,i[1]).left;else{i=["ct","lt","rt","lb","rb","lc","tc","rc","bc"].indexOf(i.toString())>-1?i.toString():"ct";switch(i){case"ct":r.top=(u.height-t)/2;r.left=(u.width-n)/2;break;case"lt":r.top=0;r.left=0;break;case"rt":r.top=0;r.left=u.width-n;break;case"lb":r.top=u.height-t;r.left=0;break;case"rb":r.top=u.height-t;r.left=u.width-n;break;case"lc":r.left=0;r.top=(u.height-t)/2;break;case"tc":r.top=0;r.left=(u.width-n)/2;break;case"rc":r.left=u.width-n;r.top=(u.height-t)/2;break;case"bc":r.top=u.height-t;r.left=(u.width-n)/2}}return r},rndNum:function(n){for(var t="",i=0;i<n;i++)t+=Math.floor(Math.random()*10);return t},compileLayxWidthOrHeight:function(n,t,i){var f=this,u=f.innerArea(),r;if(/(^[1-9]\d*$)/.test(t))return Number(t);if(/^(100|[1-9]?\d(\.\d\d?)?)%$/.test(t)){if(r=Number(t.toString().replace("%","")),n==="width")return u.width*(r/100);if(n==="height")return u.height*(r/100)}return i},getNodeByClassName:function(n,i,r){var u,f;return(r=r||t,u=this,n===r.document.body)?null:(f=n.classList,f.contains(i)?n:u.getNodeByClassName(n.parentNode,i))},getMousePosition:function(n){n=n||window.event;var t=document.documentElement.scrollLeft||document.body.scrollLeft,i=document.documentElement.scrollTop||document.body.scrollTop,r=n.pageX||n.clientX+t,u=n.pageY||n.clientY+i;return{x:r,y:u}}},u=function(n,f,e,o,s){u.isResizing=!1;u.isFirstResizing=!0;var h=function(t){var w,y,p,k;if(t=t||window.event,w=t.button||t.which,w==1&&t.shiftKey==!1){var b=i.getMousePosition(t),a=b.x-n.mouseStartCoord.x,v=b.y-n.mouseStartCoord.y,r=n.winform.area.top+v,h=n.winform.area.left+a,c=f?n.winform.area.height-v:n.winform.area.height+v,l=e?n.winform.area.width-a:n.winform.area.width+a;if(a!==0||v!==0){if(u.isResizing=!0,document.body.classList.add("layx-body"),u.isFirstResizing===!0&&(u.isFirstResizing=!1,y=document.createElement("div"),y.classList.add("layx-mouse-preventDefault"),p=n.layxWindow.querySelector(".layx-main"),p&&p.appendChild(y),i.isFunction(n.winform.event.onresize.before)&&(k=n.winform.event.onresize.before(n.layxWindow,n.winform),k===!1))){u.isResizing=!1;u.isFirstResizing=!0;document.onmouseup=null;document.onmousemove=null;return}l=Math.max(l,n.winform.area.minWidth);e?(h=Math.min(h,n.winform.area.left+n.winform.area.width-n.winform.area.minWidth),h=Math.max(0,h),l=Math.min(l,n.winform.area.left+n.winform.area.width)):(h=Math.min(h,n.winform.area.left),h=Math.max(n.winform.area.left,h),l=Math.min(l,n.innerArea.width-n.winform.area.left));c=Math.max(c,n.winform.area.minHeight);f?(r=Math.min(r,n.winform.area.top+n.winform.area.height-n.winform.area.minHeight),r=Math.max(0,r),c=Math.min(c,n.winform.area.top+n.winform.area.height)):(r=Math.min(r,n.winform.area.top),r=Math.max(n.winform.area.top,r),c=Math.min(c,n.innerArea.height-n.winform.area.top));s&&(n.layxWindow.style.width=l+"px",n.layxWindow.style.left=h+"px");o&&(n.layxWindow.style.top=r+"px",n.layxWindow.style.height=c+"px");s===!1&&o===!1&&(n.layxWindow.style.width=l+"px",n.layxWindow.style.left=h+"px",n.layxWindow.style.top=r+"px",n.layxWindow.style.height=c+"px");i.isFunction(n.winform.event.onresize.progress)&&n.winform.event.onresize.progress(n.layxWindow,n.winform)}}},c=function(t){if(t=t||window.event,document.onmouseup=null,document.onmousemove=null,u.isResizing===!0){u.isResizing=!1;u.isFirstResizing=!0;var r=n.layxWindow.querySelector(".layx-mouse-preventDefault");r&&r.parentElement.removeChild(r);n.winform.area.top=n.layxWindow.offsetTop;n.winform.area.left=n.layxWindow.offsetLeft;n.winform.area.width=n.layxWindow.offsetWidth;n.winform.area.height=n.layxWindow.offsetHeight;document.body.classList.contains("layx-body")&&document.body.classList.remove("layx-body");i.isFunction(n.winform.event.onresize.after)&&n.winform.event.onresize.after(n.layxWindow,n.winform)}},l=function(u){var e,o,f,s;return u=u||window.event,e=i.getNodeByClassName(n,"layx-window",t),e&&(o=e.getAttribute("id").substr(5),f=r.windows[o],f&&(f.status!=="min"&&f.resizable===!0?(r.updateZIndex(o),s=i.getMousePosition(u),n.mouseStartCoord=s,n.layxWindow=e,n.winform=f,n.innerArea=i.innerArea(),u.preventDefault(),u.stopPropagation(),document.onmouseup=c,document.onmousemove=h):r.restore(o))),!1};n.onmousedown=l},f=function(n){f.isMoveing=!1;f.isFirstMoveing=!0;var u=function(t){var c,s,h,v,u,o;if(t=t||window.event,c=t.button||t.which,c==1&&t.shiftKey==!1){var e=i.getMousePosition(t),l=e.x-n.mouseStartCoord.x,a=e.y-n.mouseStartCoord.y;if(l!==0||a!==0){if(f.isMoveing=!0,document.body.classList.add("layx-body"),f.isFirstMoveing===!0&&(f.isFirstMoveing=!1,s=document.createElement("div"),s.classList.add("layx-mouse-preventDefault"),h=n.layxWindow.querySelector(".layx-main"),h&&h.appendChild(s),i.isFunction(n.winform.event.onmove.before)&&(v=n.winform.event.onmove.before(n.layxWindow,n.winform),v===!1))){f.isMoveing=!1;f.isFirstMoveing=!0;document.onmouseup=null;document.onmousemove=null;return}u=n.winform.area.left+l;o=n.winform.area.top+a;n.winform.status==="max"&&(e.x<n.winform.area.width/2?u=0:e.x>n.winform.area.width/2&&e.x<n.innerArea.width-n.winform.area.width?u=e.x-n.winform.area.width/2:n.innerArea.width-e.x<n.winform.area.width/2?u=n.innerArea.width-n.winform.area.width:n.innerArea.width-e.x>n.winform.area.width/2&&e.x>=n.innerArea.width-n.winform.area.width&&(u=e.x-n.winform.area.width/2),o=0,n.winform.area.top=0,n.winform.area.left=u,r.restore(n.winform.id));n.winform.moveLimit.horizontal===!0&&(u=n.winform.area.left);n.winform.moveLimit.vertical===!0&&(o=n.winform.area.top);n.winform.moveLimit.leftOut===!1&&(u=Math.max(u,0));n.winform.moveLimit.rightOut===!1&&(u=Math.min(u,n.innerArea.width-n.winform.area.width));n.winform.moveLimit.bottomOut===!1&&(o=Math.min(o,n.innerArea.height-n.winform.area.height));o=Math.max(o,0);o=Math.min(n.innerArea.height-15,o);n.layxWindow.style.left=u+"px";n.layxWindow.style.top=o+"px";i.isFunction(n.winform.event.onmove.progress)&&n.winform.event.onmove.progress(n.layxWindow,n.winform)}}},e=function(t){if(t=t||window.event,document.onmouseup=null,document.onmousemove=null,f.isMoveing===!0){f.isMoveing=!1;f.isFirstMoveing=!0;var u=n.layxWindow.querySelector(".layx-mouse-preventDefault");u&&u.parentElement.removeChild(u);n.winform.area.top=n.layxWindow.offsetTop;n.winform.area.left=n.layxWindow.offsetLeft;document.body.classList.contains("layx-body")&&document.body.classList.remove("layx-body");n.winform.area.top===0&&n.winform.status==="normal"&&(n.winform.area.top=n.defaultArea.top,n.winform.area.left=n.defaultArea.left,r.max(n.winform.id));i.isFunction(n.winform.event.onmove.after)&&n.winform.event.onmove.after(n.layxWindow,n.winform)}},o=function(f){var s,h,o,c;return f=f||window.event,s=i.getNodeByClassName(n,"layx-window",t),s&&(h=s.getAttribute("id").substr(5),o=r.windows[h],o&&(o.status!=="min"&&o.movable===!0?(r.updateZIndex(h),c=i.getMousePosition(f),n.mouseStartCoord=c,n.layxWindow=s,n.winform=o,n.innerArea=i.innerArea(),n.defaultArea=layxDeepClone({},o.area),f.preventDefault(),f.stopPropagation(),document.onmouseup=e,document.onmousemove=u):r.restore(h))),!1};n.onmousedown=o};t.layx={v:function(){return r.version}(),open:function(n){return r.create(n)},windows:function(){return r.windows},getWindow:function(n){return r.windows[n]},destroy:function(n){r.destroy(n)},max:function(n){r.max(n)},setTitle:function(n,t,i){r.setTitle(n,t,i)},flicker:function(n){r.flicker(n)},restore:function(n){r.restore(n)},updateZIndex:function(n){r.updateZIndex(n)},updateMinLayout:function(){r.updateMinLayout()},stickToggle:function(n){r.stickToggle(n)},setPosition:function(n,t){r.setPosition(n,t)},getChildContext:function(n){return r.getChildContext(n)},getParentContext:function(n){return r.getParentContext(n)},setContent:function(n,t){r.setContent(n,t)},setUrl:function(n,t){r.setUrl(n,t)},destroyAll:function(){r.destroyAll()},msg:function(n,t){return r.msg(n,t)},alert:function(n,t,i,u,f){return r.alert(n,t,i,u,f)},confirm:function(n,t,i,u,f){return r.confirm(n,t,i,u,f)},getPromptTextArea:function(n){return r.getPromptTextArea(n)},prompt:function(n,t,i,u,f){return r.prompt(n,t,i,u,f)},load:function(n,t,i){return r.load(n,t,i)}}}(top,window,self);!function(n){var i,r,t;t=function(n){return Object.prototype.toString.call(n)==="[object Object]"};r=function u(n,i){for(var r in n)if(n.hasOwnProperty(r))if(t(n[r])&&t(i[r])&&u(n[r],i[r]),i.hasOwnProperty(r))continue;else i[r]=n[r]};i=function(){var n=arguments,u={},i;if(!n.length)return{};for(i=n.length-1;i>=0;i--)t(n[i])&&r(n[i],u);return n[0]=u,u};n.layxDeepClone=i}(window);!function(n){function o(){var i,n;i=document.createElement("div");i.innerHTML=t;t=null;n=i.getElementsByTagName("svg")[0];n&&(n.setAttribute("aria-hidden","true"),n.style.position="absolute",n.style.width=0,n.style.height=0,n.style.overflow="hidden",e(n,document.body))}var t='<svg><symbol id="layx-icon-restore" viewBox="0 0 1157 1024"><path d="M1016.52185234 724.44050175L833.87364805 724.44050175 833.87364805 898.52098643 833.87364805 960.05279112 833.87364805 961.2211168 772.34184336 961.2211168 772.34184336 960.05279112 124.31068789 960.05279112 124.31068789 961.2211168 62.7788832 961.2211168 62.7788832 960.05279112 62.7788832 898.52098643 62.7788832 360.31241885 62.7788832 298.78061416 124.31068789 298.78061416 298.78061416 298.78061416 298.78061416 62.7788832 303.06447442 62.7788832 360.31241885 62.7788832 1016.52185234 62.7788832 1074.15923838 62.7788832 1078.05365615 62.7788832 1078.05365615 662.90869795 1078.05365615 724.44050175 1016.52185234 724.44050175ZM124.31068789 898.52098643L772.34184336 898.52098643 772.34184336 724.44050175 772.34184336 662.90869795 772.34184336 360.31241885 124.31068789 360.31241885 124.31068789 898.52098643ZM1016.52185234 124.31068789L360.31241885 124.31068789 360.31241885 298.78061416 772.34184336 298.78061416 833.87364805 298.78061416 833.87364805 360.31241885 833.87364805 662.90869795 1016.52185234 662.90869795 1016.52185234 124.31068789Z"  ><\/path><\/symbol><symbol id="layx-icon-default-icon" viewBox="0 0 1024 1024"><path d="M891.88743395 61.93952995L132.11256605 61.93952995c-38.92547129 0-70.60411733 31.65534435-70.60411734 70.5924665L61.50844871 891.46800355c0 38.91382045 31.67864605 70.59246649 70.60411734 70.5924665l759.7748679 0c38.92547129 0 70.60411733-31.67864605 70.60411734-70.5924665L962.49155129 132.53199645C962.49155129 93.59487431 930.81290525 61.93952995 891.88743395 61.93952995zM844.02576498 142.29540409c16.71896178 0 30.25724302 13.54993209 30.25724302 30.26889386 0 16.70731093-13.53828125 30.25724302-30.25724302 30.25724303s-30.25724302-13.54993209-30.25724303-30.25724303C813.76852195 155.84533618 827.3068032 142.29540409 844.02576498 142.29540409zM735.60300658 142.29540409c16.71896178 0 30.25724302 13.54993209 30.25724302 30.26889386 0 16.70731093-13.53828125 30.25724302-30.25724302 30.25724303s-30.25724302-13.54993209-30.25724303-30.25724303C705.34576355 155.84533618 718.8840448 142.29540409 735.60300658 142.29540409zM881.80945351 881.37837227L142.19054649 881.37837227 142.19054649 277.92288427l739.60725618 0L881.79780267 881.37837227zM758.85809209 638.26020125l-0.01165084-180.19196018 90.09598008 90.09598008L758.85809209 638.26020125zM265.15355875 638.26020125l-90.09598008-90.0959801 90.08432924-90.08432924L265.15355875 638.26020125z"  ><\/path><\/symbol><symbol id="layx-icon-min" viewBox="0 0 1024 1024"><path d="M65.23884 456.152041 958.760137 456.152041l0 111.695918L65.23884 567.847959 65.23884 456.152041z"  ><\/path><\/symbol><symbol id="layx-icon-max" viewBox="0 0 1024 1024"><path d="M75.74912227 948.24738475L75.74912227 75.75145131l872.50059037 0 0 872.49593344L75.74912227 948.24738475zM839.18786674 184.81446115L184.81213326 184.81446115l0 654.37573462 654.37573461 0L839.18786674 184.81446115z"  ><\/path><\/symbol><symbol id="layx-icon-destroy" viewBox="0 0 1024 1024"><path d="M933.89254819 139.71606348L884.23129279 90.08990363 511.96490363 462.39138834 140.40044113 90.82692583 90.84447403 140.34779656 462.40893653 511.91225907 90.10745181 884.2137446 139.73361166 933.875 512.03509637 561.53841892 883.59955887 933.10288141 933.15552597 883.58201068 561.59106347 512.01754819Z"  ><\/path><\/symbol><symbol id="layx-icon-stick" viewBox="0 0 1024 1024"><path d="M863.92416068 184.3484319H160.07583932a50.27488011 50.27488011 0 0 1 0-100.5497602h703.84832136a50.27488011 50.27488011 0 0 1 0 100.5497602z m-50.27488007 804.39808157a50.22460522 50.22460522 0 0 1-35.69516489-14.57971521L512 708.21268254l-265.95411572 265.95411572A50.27488011 50.27488011 0 0 1 160.07583932 938.47163339V335.1730722a50.27488011 50.27488011 0 0 1 50.27488007-50.27488013h603.29856122a50.27488011 50.27488011 0 0 1 50.27488007 50.27488013v603.29856119a50.27488011 50.27488011 0 0 1-50.27488007 50.27488008z m-301.64928061-402.19904078a50.22460522 50.22460522 0 0 1 35.69516487 14.57971522L763.37440051 816.80642355V385.44795228H260.62559949v431.86122007l215.67923564-215.67923564A50.27488011 50.27488011 0 0 1 512 586.54747269z"  ><\/path><\/symbol><\/svg>',i=function(){var n=document.getElementsByTagName("script");return n[n.length-1]}(),r=i.getAttribute("data-injectcss"),u=function(t){function r(n,t){var i=n.document,r=!1,u=function(){r||(r=!0,t())},f=function(){try{i.documentElement.doScroll("left")}catch(n){setTimeout(f,50);return}u()};f();i.onreadystatechange=function(){i.readyState=="complete"&&(i.onreadystatechange=null,u())}}if(document.addEventListener)if(~["complete","loaded","interactive"].indexOf(document.readyState))setTimeout(t,0);else{var i=function(){document.removeEventListener("DOMContentLoaded",i,!1);t()};document.addEventListener("DOMContentLoaded",i,!1)}else document.attachEvent&&r(n,t)},f=function(n,t){t.parentNode.insertBefore(n,t)},e=function(n,t){t.firstChild?f(n,t.firstChild):t.appendChild(n)};if(r&&!n.__iconfont__svg__cssinject__){n.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}<\/style>")}catch(s){console&&console.log(s)}}u(o)}(window);